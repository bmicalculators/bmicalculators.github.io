{% extends "base.html" %}

{% block content %}
<main class="container mt-4">
    <section class="text-center mb-5">
        <h1 class="display-4">Grade Calculator</h1>
        <p class="lead">Use this simple EZ Grading calculator to find quiz, test and assignment scores:</p>
    </section>

    <!-- Navigation Tabs -->
    <div class="calculator-nav text-center mb-4">
        <button class="btn btn-calculator active me-2" data-calculator="ez-grader">Easy Grader</button>
        <button class="btn btn-calculator me-2" data-calculator="average-calculator">Average Grade Calculator</button>
        <button class="btn btn-calculator" data-calculator="final-calculator">Final Grade Calculator</button>
    </div>

    <!-- Calculator Sections -->
    <div id="calculator-container">
        <!-- EZ Grader -->
        <section id="ez-grader" class="calculator-section mb-5 active">
            <div class="calculator-card">
                <div class="input-section">
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="input-group">
                                <label for="total-questions"># of questions:</label>
                                <input type="number" class="form-control text-center" id="total-questions" min="1">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group">
                                <label for="wrong-answers"># wrong:</label>
                                <input type="number" class="form-control text-center" id="wrong-answers" min="0">
                            </div>
                        </div>
                    </div>

                    <div class="result-section text-center mt-4">
                        <h3>Result</h3>
                        <div id="ez-grade-result" class="grade-result">-/-</div>
                        <div class="options mt-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="show-chart">
                                <label class="form-check-label" for="show-chart">Show Grading Chart</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="show-decimals">
                                <label class="form-check-label" for="show-decimals">Show Decimals</label>
                            </div>
                        </div>
                    </div>

                    <div id="grading-chart" class="mt-4" style="display: none;">
                        <h4>Grading Chart:</h4>
                        <div class="table-responsive">
                            <table class="table grading-table">
                                <thead>
                                    <tr>
                                        <th># Wrong</th>
                                        <th>Grade</th>
                                    </tr>
                                </thead>
                                <tbody id="grade-chart-body"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Average Grade Calculator -->
        <section id="average-calculator" class="calculator-section mb-5" style="display: none;">
            <div class="calculator-card">
                <div class="input-section">
                    <div class="grades-table">
                        <div class="grade-header row">
                            <div class="col-2">#</div>
                            <div class="col-5">Grade (%)</div>
                            <div class="col-5">Weight</div>
                        </div>
                        <div id="percentage-grades"></div>
                    </div>

                    <div class="calculator-actions mt-4">
                        <button class="btn btn-calculator" onclick="resetGrades()">Reset</button>
                        <button class="btn btn-calculator ms-2" onclick="addGradeRow()">Add Row</button>
                    </div>

                    <div class="result-section mt-4">
                        <h3>Average Grade</h3>
                        <div id="average-result" class="grade-result">-</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Final Grade Calculator -->
        <section id="final-calculator" class="calculator-section mb-5" style="display: none;">
            <div class="calculator-card">
                <div class="input-section">
                    <div class="grade-inputs">
                        <div class="input-group">
                            <label for="current-grade">Current Grade</label>
                            <input type="number" class="form-control text-center" id="current-grade" min="0" max="100">
                            <span class="input-suffix">%</span>
                        </div>
                        <div class="input-group">
                            <label for="desired-grade">Desired Grade</label>
                            <input type="number" class="form-control text-center" id="desired-grade" min="0" max="100">
                            <span class="input-suffix">%</span>
                        </div>
                        <div class="input-group">
                            <label for="final-weight">Final Exam Weight</label>
                            <input type="number" class="form-control text-center" id="final-weight" min="0" max="100">
                            <span class="input-suffix">%</span>
                        </div>
                    </div>

                    <div class="calculator-actions mt-4">
                        <button class="btn btn-calculator" onclick="resetFinal()">Reset</button>
                    </div>

                    <div class="result-section mt-4">
                        <h3>Final Exam Grade Needed:</h3>
                        <div id="final-grade-result" class="grade-result">-</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="faq-section mt-5 mb-5">
            <h2 class="text-center mb-4">Frequently Asked Questions</h2>
            <div class="accordion" id="gradingFaq">
                <!-- EZ Grader FAQ -->
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                            What is an EZ Grader and how does it work?
                        </button>
                    </h3>
                    <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#gradingFaq">
                        <div class="accordion-body">
                            An EZ Grader is a simple online tool that quickly calculates percentage grades based on the number of questions and incorrect answers. Our online EZ grader automatically converts raw scores to percentages, making grading faster and more accurate.
                        </div>
                    </div>
                </div>

                <!-- Grade Calculator FAQ -->
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                            How do I calculate my final grade using the grade calculator?
                        </button>
                    </h3>
                    <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#gradingFaq">
                        <div class="accordion-body">
                            To calculate your final grade, enter your current grade percentage, desired final grade, and the weight of your final exam. The calculator will determine what score you need on the final exam to achieve your desired grade.
                        </div>
                    </div>
                </div>

                <!-- Online Calculator FAQ -->
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                            Why use an online grade calculator?
                        </button>
                    </h3>
                    <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#gradingFaq">
                        <div class="accordion-body">
                            Online grade calculators offer several advantages:
                            <ul>
                                <li>Instant calculations without manual math</li>
                                <li>Accurate results every time</li>
                                <li>Multiple calculation types (EZ Grader, weighted averages, final grade predictions)</li>
                                <li>Accessible from any device with internet access</li>
                                <li>Free to use and always available</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Weighted Grades FAQ -->
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                            How do weighted grades work in the average grade calculator?
                        </button>
                    </h3>
                    <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#gradingFaq">
                        <div class="accordion-body">
                            The weighted grade calculator takes into account both your grade and its importance (weight) in the final average. For example, if a midterm is worth 30% of your grade and a final is worth 70%, the calculator will properly factor these weights into your final grade calculation.
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</main>
{% endblock %}